\RequirePackage[l2tabu,orthodox]{nag}

% TODO: decide if one-sided/two-sided
%\documentclass[headsepline,footsepline,footinclude=false,fontsize=11pt,paper=a4,listof=totoc,bibliography=totoc,BCOR=12mm,DIV=12]{scrbook} % two-sided
\documentclass[headsepline,footsepline,footinclude=false,oneside,fontsize=11pt,paper=a4,listof=totoc,bibliography=totoc]{scrbook} % one-sided

% TODO: change citation style in settings
\input{settings}

% TODO: change thesis information
\newcommand*{\getUniversity}{Universität Bremen}
\newcommand*{\getFaculty}{Fachbereich 4: Produktionstechnik}
\newcommand*{\getTitle}{Uncertainties in machine-learning-based surrogate models for the scenario-based validation of autonomous systems}
\newcommand*{\getTitleGer}{Unsicherheiten in machine-learning-basierten Surrogatmodellen für die szenariobasierte Validierung autonomer Systeme}
\newcommand*{\getAuthor}{Marten Windler}
\newcommand*{\getDoctype}{Bachelor's Thesis in Systems Engineering}
\newcommand*{\getSupervisor}{M.Sc. Ricardo Bosold}
\newcommand*{\getAdvisor}{M.Sc. Daniel Autenrieth}
\newcommand*{\getSubmissionDate}{11.08.2025}
\newcommand*{\getSubmissionLocation}{Bremen}

\begin{document}

% Set page numbering to avoid "destination with the same identifier has been already used" warning for cover page.
% (see https://en.wikibooks.org/wiki/LaTeX/Hyperlinks#Problems_with_Links_and_Pages).
\pagenumbering{alph}
\input{pages/cover}

\frontmatter{}

\input{pages/title}
\input{pages/disclaimer}
%\input{pages/acknowledgments}
\input{pages/abstract}
\microtypesetup{protrusion=false}
\tableofcontents{}
\microtypesetup{protrusion=true}

\mainmatter{}

\input{chapters/01_Einleitung}
\input{chapters/02_Motivation}
\input{chapters/03_Problemstellung}
\input{chapters/04_Zielsetzung}
\input{chapters/05_Methodische_Grundlagen}
\input{chapters/06_Stand_der_Technik}
\input{chapters/07_Verwandte_Arbeiten}
\input{chapters/08_Durchfuehrung}
\input{chapters/09_Diskussion}
\input{chapters/10_Fazit_Ausblick}
% TODO: add more chapters here

\appendix{}

\microtypesetup{protrusion=false}
\listoffigures{}
\listoftables{}
\microtypesetup{protrusion=true}
% \printbibliography{}

\chapter*{Literaturverzeichnis}

% Sub-Literatur-Verzeichnisse
% Definiere Filter für die Teilbibliographien
% Filter nach keyword (optional, falls nicht `category`)
\defbibfilter{beitragfilter}{keyword=beitrag}
%\defbibfilter{buchmonographiefilter}{keyword=buchmonographie}
\defbibfilter{bswfilter}{keyword=buchsammelwerk}
\defbibfilter{datensatzfilter}{keyword=dataset}
\defbibfilter{internetdokumentfilter}{keyword=internetdokument}
\defbibfilter{zeitschriftenaufsatzfilter}{keyword=zeitschriftenaufsatz}
\defbibfilter{softwarefilter}{keyword=software}
\defbibfilter{thesisfilter}{keyword=thesis}
\defbibfilter{repositoryfilter}{keyword=repository}

\section*{Beitrag}
\printbibliography[filter=beitragfilter, heading=none]

\section*{Buch (Sammelwerk)}
\printbibliography[filter=bswfilter, heading=none]

\section*{Zeitschriftenaufsatz}
\printbibliography[filter=zeitschriftenaufsatzfilter, heading=none]

\section*{Internetdokument}
\printbibliography[filter=internetdokumentfilter, heading=none]

\section*{Thesis}
\printbibliography[filter=thesisfilter, heading=none]

\printglossary[title=Glossar, toctitle=Glossar]

\newline

\section*{Anhang}

\section*{Datensätze}\label{datensaetze}
\printbibliography[filter=datensatzfilter, heading=none]

\section*{Software}
\printbibliography[filter=softwarefilter, heading=none]

\printbibliography[filter=repositoryfilter, heading=none]

\section*{Formelsammlung}

\subsection*{Regression Metriken}
\begin{itemize}
  \item \( \text{RMSE} = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2} \): Mittlere quadratische Abweichung.
  \item \( \text{MAE} = \frac{1}{n} \sum_{i=1}^{n} |y_i - \hat{y}_i| \): Mittlerer absoluter Fehler.
  \item \( \text{MAPE} = \frac{1}{n} \sum_{i=1}^{n} \left| \frac{y_i - \hat{y}_i}{y_i} \right| \): Mittlerer absoluter prozentualer Fehler.
  \item \( R^2 = 1 - \frac{\sum_{i=1}^{n} (y_i - \hat{y}_i)^2}{\sum_{i=1}^{n} (y_i - \bar{y})^2} \): Bestimmtheitsmaß (R2).
\end{itemize}

\subsection*{Unsicherheitsquantifizierung (UQ) Metriken}
\begin{itemize}
  \item \( \text{NLL}_{\text{gaussian}} = \frac{1}{2} \log(2 \pi \sigma^2) + \frac{(y - \mu)^2}{2 \sigma^2} \): Negative Log-Likelihood für eine Gaußsche Verteilung.
  \item \( \text{Energy Score} = \frac{1}{n} \sum_{i=1}^{n} \left\| y_i - \hat{y}_i \right\| \): Energie-Score.
  \item \( \text{ECE} = \frac{1}{n} \sum_{i=1}^{n} \left| \text{confidence}(y_i) - \mathbb{1}(y_i \text{ is correct}) \right| \): Expected Calibration Error.
  \item \( \text{ACE} = \frac{1}{n} \sum_{i=1}^{n} \left| \text{confidence}(y_i) - \mathbb{1}(y_i \text{ is correct}) \right| \): Adaptive Calibration Error.
  \item \( \text{ELBO} = \mathbb{E}[\log p(y \mid \theta)] - \text{KL}(q(\theta) \parallel p(\theta)) \): Evidence Lower Bound.
  \item \( \text{PICP} = \frac{1}{n} \sum_{i=1}^{n} \mathbb{1}(\hat{y}_{i,\text{lower}} \leq y_i \leq \hat{y}_{i,\text{upper}}) \): Prediction Interval Coverage Probability.
  \item \( \text{MPIW} = \frac{1}{n} \sum_{i=1}^{n} (\hat{y}_{i,\text{upper}} - \hat{y}_{i,\text{lower}}) \): Mean Prediction Interval Width.
  \item \( \text{CRPS} = \frac{1}{n} \sum_{i=1}^{n} \left| F(y_i) - G(y_i) \right| \): Continuous Ranked Probability Score.
  \item \( \text{KL}_{\text{normal}} = \frac{1}{2} \left( \log\left(\frac{\sigma^2}{\hat{\sigma}^2}\right) + \frac{\hat{\sigma}^2 + (\mu - \hat{\mu})^2}{\sigma^2} - 1 \right) \): KL-Divergenz zwischen zwei Normalverteilungen.
  \item \( \text{Mean Pred. Variance} = \frac{1}{n} \sum_{i=1}^{n} \hat{\sigma}_i^2 \): Mittelwert der Vorhersage-Varianz.
  \item \( \text{Predictive Entropy} = - \sum_{i=1}^{n} p(y_i) \log p(y_i) \): Entropie der Vorhersagen.
  \item \( \text{Epistemic Variance} = \frac{1}{N} \sum_{i=1}^{N} \text{Var}(\hat{y}_i) \): Epistemische Varianz.
  \item \( \text{Aleatoric Variance} = \frac{1}{N} \sum_{i=1}^{N} \hat{\sigma}_i^2 \): Aleatorische Varianz.
  \item \( \text{Calibration Error} = \frac{1}{n} \sum_{i=1}^{n} \left| \text{confidence}(y_i) - \mathbb{1}(y_i \text{ is correct}) \right| \): Kalibrierungsfehler.
  \item \( \text{UDA} = \text{pred\_uncert\_epistemic} + \text{pred\_uncert\_aleatoric} - \text{true\_errors} \): Uncertainty Decomposition Analysis.
  \item \( \text{NCG} = \frac{\text{confidence\_scores} - \text{baseline\_confidence\_scores}}{\text{max\_confidence} - \text{min\_confidence}} \): Normalized Confidence Gap.
  \item \( \text{Meta Metric BNN/EDNN} = \text{UDA} + \text{meta\_calibration\_score} + \text{corr\_err\_epistemic} + \text{NCG} \): Meta Metric für BNN und EDNN.
\end{itemize}

\subsection*{Probabilistic Metriken}
\begin{itemize}
  \item \( \text{NLL}_{\text{gaussian}} = \frac{1}{2} \log(2 \pi \sigma^2) + \frac{(y - \mu)^2}{2 \sigma^2} \): Negative Log-Likelihood für eine Gaußsche Verteilung.
  \item \( \text{Energy Score} = \frac{1}{n} \sum_{i=1}^{n} \left\| y_i - \hat{y}_i \right\| \): Energie-Score.
\end{itemize}



\end{document}
